### Отчет по лабораторной работе №4

# Книга рецептов

Простой веб-проект на PHP для хранения, добавления и просмотра рецептов. Проект позволяет пользователям создавать рецепты, добавлять описание, ингредиенты, шаги приготовления и тэги. Все рецепты сохраняются в текстовый файл в формате JSON.

## Возможности

- Добавление новых рецептов через форму
- Валидация введённых данных
- Отображение ошибок при заполнении формы
- Хранение рецептов в JSON-формате в текстовом файле
- Просмотр всех добавленных рецептов
- Поддержка категорий и множественных тэгов

## Структура проекта

recipe-book/
├── public/
│ ├── index.php # Главная страница
│ └── recipe/
│ ├── create.php # Форма добавления рецепта
│ └── index.php # Страница со списком всех рецептов
├── src/
│ ├── handlers.php # Функция загрузки рецептов из файла
│ └── handlers/
│ └── handle_create.php # Обработка отправки формы и сохранение рецепта
├── storage/
│ └── recipes.txt # Хранилище рецептов в формате JSON

## Описание работы

### Главная страница (`index.php`)

- Отображает название проекта и кнопки для перехода:
  - Добавить рецепт
  - Посмотреть рецепты

### Добавление рецепта (`recipe/create.php`)

- HTML-форма с полями:

  - `Название рецепта`
  - `Категория` (Завтрак, Обед, Ужин)
  - `Ингредиенты`
  - `Описание`
  - `Тэги` (множественный выбор: Быстро, Постное, Веган)
  - `Шаги приготовления`

- Используются сессии для хранения ошибок и предварительно введённых данных при неудачной отправке.

### Обработка формы (`handle_create.php`)

- Получает данные формы через `POST`
- Проводит валидацию каждого поля:
  - Если есть ошибки — сохраняет их в сессии и перенаправляет обратно на форму
  - Если ошибок нет — формирует массив рецепта и сохраняет его в файл `recipes.txt` в формате JSON

### Просмотр рецептов (`recipe/index.php`)

- Загружает рецепты из `recipes.txt` с помощью функции `loadRecipes()`
- Отображает каждый рецепт:
  - Название, категория, ингредиенты, описание, тэги, пошаговые инструкции и дата добавления

### Работа с файлами (`handlers.php`)

- Функция `loadRecipes()`:
  - Загружает данные из `recipes.txt`
  - Каждая строка — JSON-запись одного рецепта

## Интерфейс

- Проект стилизован с использованием [Tailwind CSS](https://tailwindcss.com/)
- Минималистичный, адаптивный и приятный интерфейс

## Запуск проекта

1. Убедитесь, что установлен PHP (рекомендуется PHP 8+)
2. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/your-username/recipe-book.git
   ```

### Контрольные вопросы

1. Какие методы HTTP применяются для отправки данных формы?
   GET — данные передаются через URL, видны пользователю.

POST — данные передаются в теле запроса, безопаснее.

2. Что такое валидация данных, и чем она отличается от фильтрации?
   Валидация — проверка правильности данных (например, формат email).

Фильтрация — очистка данных от лишнего или опасного (например, удаление тегов).

3. Какие функции PHP используются для фильтрации данных?
   filter_var() — основная функция с фильтрами:

FILTER_SANITIZE_STRING, FILTER_SANITIZE_EMAIL, FILTER_VALIDATE_INT, и др.

htmlspecialchars() — защита от XSS.

trim() — удаление пробелов.

strip_tags() — удаление HTML-тегов.
